---
import Btncf from '../components/buyshopitem.svelte';
export interface Props {
  id: number;
	title: string;
	href: string;
	buycount: string;
	description: string;

}

const { id, href, title, buycount, description } = Astro.props;
---

<div class="card bg-base-200 shadow-lg hover:shadow-amber-500">
  <button onclick=`{${"shopinfo_"+id}.showModal()};`>
    <figure><img src={href} alt="Img" class="rounded-lg w-full" />
    </figure>
    <div class=" xs:flex sm:flex md:flex justify-between p-1">
      <div>
        <div class="badge badge-success font-bold text-lg py-4</div>">
          สินค้าเข้าใหม่</div>
      </div>
      <div>
        <div class="badge badge-primary font-bold text-lg py-4">{buycount} ซื้อแล้ว</div>
      </div>
  </div>
    <div class="card-body">
      <h2 class="card-title">{title}</h2>
      <p>{description}</p>

    </div>
  </button>
  </div>

  <dialog id={"shopinfo_"+id} class="modal ">
    <form method="dialog" class="modal-box shadow-lg shadow-amber-300">
      <h3 class="font-bold text-lg">รายละเอียดสินค้า</h3>
      <figure><img src={href} alt="Img" class="rounded-lg w-full shadow-lg shadow-stone-500" />
      </figure>
      <div class=" xs:flex sm:flex md:flex justify-between p-1">
          <div class="badge badge-success font-bold text-lg">
            สินค้าเข้าใหม่</div>

        <div>
          <div class="badge badge-primary font-bold text-lg">{buycount} ซื้อแล้ว</div>
        </div>
    </div>
    <div class="modal-body">
      <h2 class="card-title">{title}</h2>
      <p class="bg-base-200 rounded p-2">{description}</p>
    </div>
        <div class="flex justify-end gap-2 mt-4">
        <!-- <button class="btn btn-primary hover:scale-105 text-lg" onclick=`{${"cfbuy_"+id}.showModal()};`> -->

<Btncf did={id} title={title}/>

          
          <button class="btn btn-secondary hover:scale-105 text-lg">
            <i class="fa-solid fa-cart-shopping"></i>หยิบใส่ตระก้า</button>
          </div>
      <div class="modal-action">
        <button class="btn flex grow">ปิดหน้าต่างนี้</button>
      </div>
      
    </form>
    <form method="dialog" class="modal-backdrop">
      <button></button>
    </form>
  </dialog>